ask_ports_configured:
  &ask_ports_configured
  id: ports_configured
  friendly: "Configs Good?"
  positive:
    id: configs_good
    friendly: "Undiagnosable"
  negative:
    id: configs_bad
    friendly: "Bad Port Config"

when_pods_running:
  &when_pods_running
  id: pods_accepting
  friendly: "Pods Connecting?"
  positive:
    *ask_ports_configured
  negative:
    id: image_accepting
    friendly: "Container Connecting?"
    positive:
      *ask_ports_configured
    negative:
      id: image_bad
      friendly: "Image Problem"

tree:
  id: can_svc_connect
  friendly: "Service Connects?"
  positive:
    id: no_problem
    friendly: "All Good"
  negative:
    id: does_svc_see_any_pods
    friendly: "Service Sees Pods?"
    positive:
      id: does_svc_sees_right_pods
      friendly: "Service Sees Right Pods?"
      positive:
        *when_pods_running
      negative:
        id: deployment_pod_mismatch
        friendly: "Label Clusterf***"
    negative:
      id: are_any_pods_running
      friendly: "Pods Running?"
      positive:
        *when_pods_running
      negative:
        id: pods_not_running
        friendly: "Pods not Running"